---
import { LinkPreview as LinkPreviewReact } from "./index";
import { Image } from 'astro:assets';
import { getImagePromise } from "../../utils/utils";
interface Props {
  url: string;
  title?: string;
  class?: string;
  width?: number;
  height?: number;
  imageSrc?: string;
}

const {
  url,
  title,
  class: className,
  width = 200,
  height = 125,
  imageSrc,
} = Astro.props;

---

<LinkPreviewReact
  client:load
  url={url}
  title={title}
  className={className}
  width={width}
  height={height}
  imageSrc={imageSrc}
>
  <slot />
  {imageSrc && (
    <Image
      slot="image"
      src={imageSrc}
      width={width}
      height={height}
      alt={title || url}
      class="rounded object-cover"
    />
  )}
</LinkPreviewReact>
